<apex:page controller="CaseHistoryCon" tabStyle="Case" standardStylesheets="true" showHeader="false" sidebar="false" >
   <!--  <table width="98%" border="0" cellpadding="0" cellspacing="0">
    <tr><td align="right"><a href="javascript:window.print();">Print Report</a></td></tr>
    <tr><td align="right"><a href="javascript:window.close();">Close Report</a></td></tr>
    </table> -->
    
    <apex:form >

        <apex:sectionHeader title="Case History" subtitle="Case Number: {!case.casenumber}"/>
        <apex:pageBlock id="thePageBlock">
            <apex:pageBlockButtons location="top">
                <!--<apex:commandButton value="Back to Case: {!case.casenumber}" action="{!backToCase}"/>-->
                <apex:commandButton value="{!IF(hidePrivate, 'Show ', 'Hide ')}Private" action="{!togglePrivate}" rerender="thePageBlock" status="status" rendered="{!$Profile.Name <> 'Ellucian Communities Profile'}"/>
                <apex:commandButton value="{!IF(hideStatusUpdates, 'Show ', 'Hide ')}Status" action="{!toggleStatus}" rerender="thePageBlock" status="status"  rendered="{!$Profile.Name <> 'Ellucian Communities Profile'}"/>
                <apex:commandButton value="{!IF(fullComments, 'Short ', 'Full ')}Comments" action="{!toggleComments}" rerender="thePageBlock" status="status"   /> 
                <apex:commandButton value="Print" onclick="window.print();"/>
                <apex:commandButton value="Close" onclick="window.close();"/>
                <apex:actionStatus id="status" startText="requesting..."/>
            </apex:pageBlockButtons>
         <apex:pageBlockSection title="Case Information" columns="2" showHeader="true" >
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Case Number" for="casenumber"/>
                <apex:outputField id="casenumber" value="{!case.casenumber}"/>        
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Status" for="Status"/>
                <apex:outputField id="Status" value="{!case.status}"/>        
            </apex:pageBlockSectionItem> 
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Legacy Case Number" for="Legacy_Case_Number__c"/>
                <apex:outputField id="Status" value="{!case.Legacy_Case_Number__c}"/>        
            </apex:pageBlockSectionItem> 
                        <apex:pageBlockSectionItem >
                <apex:outputLabel value="Sub-Status" for="Sub_Status__c"/>
                <apex:outputField id="Status" value="{!case.Sub_Status__c}"/>   
            </apex:pageBlockSectionItem>  
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Priority" for="Priority"/>
                <apex:outputField id="Priority" value="{!case.Priority}"/>        
            </apex:pageBlockSectionItem> 
            </apex:pageBlockSection> 
            <apex:pageBlockSection showHeader="false" title="Case Information" columns="1">
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Full Hierarchy" for="Full_Hierarchy__c"/>
                <apex:outputField id="Full_Hierarchy__c" value="{!case.Full_Hierarchy__c}"/>        
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Product Version" for="Product_Version__r"/>
                <apex:outputField id="Product_Version__r" value="{!case.Product_Version__r.Name}"/>        
            </apex:pageBlockSectionItem> 
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Object/Process" for="Object_Process__c"/>
                <apex:outputField id="Object_Process__c" value="{!case.Object_Process__c}"/>        
            </apex:pageBlockSectionItem> 
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Subject" for="Subject"/>
                <apex:outputField id="Subject" value="{!case.Subject}"/>   
            </apex:pageBlockSectionItem>  
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Description" for="Description" />
                <apex:outputField id="Description" value="{!case.Description}"/>        
            </apex:pageBlockSectionItem> 
             <apex:pageBlockSectionItem >
                <apex:outputLabel value="Resolution Summary" for="Resolution_Summary__c"/>
                <apex:outputField id="Resolution_Summary__c" value="{!case.Resolution_Summary__c}"/>        
            </apex:pageBlockSectionItem>            
      </apex:pageBlockSection> 
      <apex:pageBlockSection showHeader="true" title="Contact Information" columns="2">
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Account Name" for="account"/>
                <apex:outputField id="account" value="{!case.Account.Name}"/>        
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="Contact Phone" for="Phone"/>
                <apex:outputField id="Phone" value="{!case.Contact.Phone}"/>        
            </apex:pageBlockSectionItem> 
           <apex:pageBlockSectionItem >
                <apex:outputLabel value="Contact Name" for="Contact"/>
                <apex:outputField id="Contact" value="{!case.Contact.Name}"/>        
            </apex:pageBlockSectionItem> 
           <apex:pageBlockSectionItem >
                <apex:outputLabel value="Contact Email" for="Email"/>
                <apex:outputField id="Email" value="{!case.Contact.Email}"/>        
            </apex:pageBlockSectionItem>             
      </apex:pageBlockSection> 
      <apex:pageBlockSection showHeader="true" title="Details" columns="1"> 
            <apex:pageBlockTable value="{!histories}" var="h">
                <apex:column headerValue="Date"  value="{!h.historyDate}"/>
                <apex:column headerValue="Public">
                    <apex:image value="{!URLFOR($Resource.images_checkbox, IF(h.ispublic, 'true.gif','false.gif'))}"/>
                </apex:column>
                <apex:column headerValue="Added by"  value="{!h.actorname}"/>
                <apex:column headerValue="Type" value="{!h.historyType}"/>
               <!--   <apex:column headerValue="Prior Value" value="{!h.fr}" rendered="{!hideStatusUpdates == false}"/> -->
                <apex:column headerValue="Comments"><apex:outputText value="{!h.to}"  escape="false"/></apex:column>
               
            </apex:pageBlockTable>
             
            </apex:pageBlockSection> 
        </apex:pageBlock>
        
          
    </apex:form>

</apex:page>